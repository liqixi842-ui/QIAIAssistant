# 🚀 动「QI」来 - 快速开始指南

## 给非技术人员的简单教程

---

## 📌 您需要准备的东西

1. **一台云服务器**（阿里云/腾讯云）
   - 配置：2核4GB内存
   - 系统：Ubuntu 22.04
   - 费用：约 ¥200-300/月

2. **AI服务订阅**（¥200/月）
   - 您已经有了，太好了！

3. **30分钟时间**

**总成本：约 ¥400-500/月**

---

## 🎯 三步部署，超级简单！

### 第一步：连接到服务器（5分钟）

#### Windows用户：
1. 下载 **MobaXterm**（免费软件）
2. 打开MobaXterm
3. 点击"Session" → "SSH"
4. 输入您的服务器IP地址
5. 输入用户名（通常是 root）
6. 输入密码
7. 点击"OK"连接

#### Mac用户：
1. 打开"终端"程序
2. 输入命令：
   ```bash
   ssh root@您的服务器IP
   ```
3. 输入密码

**连接成功！您会看到命令行界面。**

---

### 第二步：准备环境（10分钟）

复制下面的命令，**一次一行**粘贴到服务器，按回车执行：

```bash
# 1. 安装Node.js（JavaScript运行环境）
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# 2. 安装PostgreSQL（数据库）
sudo apt update
sudo apt install -y postgresql postgresql-contrib

# 3. 启动数据库
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

等待几分钟，让软件自动安装。

---

### 第三步：部署系统（15分钟）

#### 3.1 上传代码

方法1：如果代码在Git仓库（推荐）
```bash
cd /home
git clone <您的代码仓库地址> dongqilai
cd dongqilai
```

方法2：如果您有压缩包
- 使用MobaXterm左侧的文件管理器
- 直接拖拽压缩包到 /home 目录
- 然后执行：
```bash
cd /home
unzip dongqilai.zip
cd dongqilai
```

#### 3.2 创建数据库

复制粘贴执行：
```bash
sudo -u postgres psql -c "CREATE DATABASE dongqilai;"
sudo -u postgres psql -c "CREATE USER dongqilai_user WITH PASSWORD 'qilai123456';"
sudo -u postgres psql -c "GRANT ALL PRIVILEGES ON DATABASE dongqilai TO dongqilai_user;"
```

#### 3.3 运行一键部署

```bash
chmod +x deploy.sh
./deploy.sh
```

**脚本会问您几个问题，按照下面回答：**

| 问题 | 回答 |
|------|------|
| 数据库主机 | 直接按回车（默认localhost） |
| 数据库端口 | 直接按回车（默认5432） |
| 数据库用户名 | 输入：dongqilai_user |
| 数据库密码 | 输入：qilai123456 |
| 数据库名称 | 直接按回车（默认dongqilai） |
| AI API密钥 | 输入您的AI服务密钥 |
| AI服务地址 | 输入您的AI服务URL |
| AI模型名称 | 直接按回车或输入具体模型 |

**等待3-5分钟，自动安装完成！**

#### 3.4 启动系统

```bash
# 安装PM2（进程管理器）
npm install -g pm2

# 启动系统
pm2 start npm --name dongqilai -- start

# 设置开机自启
pm2 startup
pm2 save
```

---

## 🎉 完成！

### 访问您的系统

在浏览器输入：
```
http://您的服务器IP:5000
```

**看到登录界面？恭喜，部署成功！**

---

## 🔧 常用命令

### 查看系统状态
```bash
pm2 status
```

### 查看日志（如果有问题）
```bash
pm2 logs dongqilai
```

### 重启系统
```bash
pm2 restart dongqilai
```

### 停止系统
```bash
pm2 stop dongqilai
```

### 测试AI连接
在浏览器访问：
```
http://您的服务器IP:5000/api/ai/test
```

---

## ❓ 遇到问题？

### 问题1：无法访问
- 检查服务器防火墙是否开放5000端口
- 检查云服务商的安全组设置

### 问题2：AI不工作
- 访问 `http://您的IP:5000/api/ai/test` 测试
- 检查 `.env` 文件中的AI配置

### 问题3：忘记密码
- 查看 `.env` 文件：`cat .env`
- 或者重新运行部署脚本

---

## 📞 获取帮助

1. 查看详细文档：`DEPLOYMENT.md`
2. 查看日志找错误：`pm2 logs`
3. 重新部署：删除 `.env` 文件后重新运行 `./deploy.sh`

---

## 🎯 下一步

1. 创建管理员账号
2. 添加您的团队成员
3. 导入客户数据
4. 开始使用AI分析

---

## 💡 小贴士

- **备份很重要**：定期备份数据库
- **安全第一**：不要把 `.env` 文件分享给任何人
- **定期更新**：及时更新系统代码

---

**就是这么简单！30分钟搞定！** 🎊
